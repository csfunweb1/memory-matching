var emojis = [
  "üòÑ",
  "üòÉ",
  "üòÄ",
  "üòä",
  "üòâ",
  "üòç",
  "üòò",
  "üòö",
  "üòó",
  "üòô",
  "üòú",
  "üòù",
  "üòõ",
  "üò≥",
  "üòÅ",
  "üòî",
  "üòå",
  "üòí",
  "üòû",
  "üò£",
  "üò¢",
  "üòÇ",
  "üò≠",
  "üò™",
  "üò∞",
  "üòÖ",
  "üòì",
  "üò©",
  "üò´",
  "üò®",
  "üò±",
  "üò†",
  "üò°",
  "üò§",
  "üòñ",
  "üòÜ",
  "üòã",
  "üò∑",
  "üòé",
  "üò¥",
  "üòµ",
  "üò≤",
  "üòü",
  "üò¶",
  "üòß",
  "üòà",
  "üòÆ",
  "üò¨",
  "üòê",
  "üòï",
  "üòØ",
  "üò∂",
  "üòá",
  "üòè",
  "üòë",
  "üë≤",
  "üë≥",
  "üëÆ",
  "üë∑",
  "üíÇ",
  "üë∂",
  "üë¶",
  "üëß",
  "üë®",
  "üë©",
  "üë¥",
  "üëµ",
  "üë±",
  "üëº",
  "üë∏",
  "üò∫",
  "üò∏",
  "üòª",
  "üòΩ",
  "üòº",
  "üôÄ",
  "üòø",
  "üòπ",
  "üòæ",
  "üôà",
  "üôâ",
  "üôä",
  "üëΩ",
  "üí©",
  "üî•",
  "‚ú®",
  "üåü",
  "üí´",
  "üí•",
  "üí¶",
  "üíß",
  "üí§",
  "üëÇ",
  "üëÄ",
  "üëÉ",
  "üëÖ",
  "üëÑ",
  "üëç",
  "üëé",
  "üëå",
  "üëä",
  "‚úä",
  "‚úå",
  "üëã",
  "‚úã",
  "üëê",
  "üëÜ",
  "üëá",
  "üëâ",
  "üëà",
  "üôå",
  "üôè",
  "‚òù",
  "üëè",
  "üí™",
  "üö∂",
  "üèÉ",
  "üíÉ",
  "üë´",
  "üë™",
  "üë¨",
  "üë≠",
  "üíè",
  "üíë",
  "üëØ",
  "üôÜ",
  "üôÖ",
  "üíÅ",
  "üôã",
  "üíÜ",
  "üíá",
  "üíÖ",
  "üë∞",
  "üôé",
  "üôç",
  "üôá",
  "üé©",
  "üëë",
  "üëí",
  "üëü",
  "üëû",
  "üë°",
  "üë†",
  "üë¢",
  "üëï",
  "üëî",
  "üëö",
  "üëó",
  "üéΩ",
  "üëñ",
  "üëò",
  "üëô",
  "üíº",
  "üëú",
  "üëù",
  "üëõ",
  "üëì",
  "üéÄ",
  "üåÇ",
  "üíÑ",
  "üíõ",
  "üíô",
  "üíú",
  "üíö",
  "‚ù§",
  "üíó",
  "üíì",
  "üíï",
  "üíñ",
  "üíû",
  "üíò",
  "üíå",
  "üíã",
  "üíç",
  "üíé",
  "üë§",
  "üë•",
  "üë£",
  "üê∂",
  "üê∫",
  "üê±",
  "üê≠",
  "üêπ",
  "üê∞",
  "üê∏",
  "üêØ",
  "üê®",
  "üêª",
  "üê∑",
  "üêÆ",
  "üêó",
  "üêµ",
  "üêí",
  "üê¥",
  "üêë",
  "üêò",
  "üêº",
  "üêß",
  "üê¶",
  "üê§",
  "üê•",
  "üê£",
  "üêî",
  "üêç",
  "üê¢",
  "üêõ",
  "üêù",
  "üêú",
  "üêû",
  "üêå",
  "üêô",
  "üêö",
  "üê†",
  "üêü",
  "üê¨",
  "üê≥",
  "üêã",
  "üêÑ",
  "üêè",
  "üêÄ",
  "üêÉ",
  "üêÖ",
  "üêá",
  "üêâ",
  "üêé",
  "üêê",
  "üêì",
  "üêï",
  "üêñ",
  "üêÅ",
  "üêÇ",
  "üê≤",
  "üê°",
  "üêä",
  "üê´",
  "üê™",
  "üêÜ",
  "üêà",
  "üê©",
  "ü¶Ñ",
  "üêæ",
  "üíê",
  "üå∏",
  "üå∑",
  "üçÄ",
  "üåπ",
  "üåª",
  "üå∫",
  "üçÅ",
  "üçÉ",
  "üçÇ",
  "üåø",
  "üåæ",
  "üçÑ",
  "üåµ",
  "üå¥",
  "üå≤",
  "üå≥",
  "üå∞",
  "üå±",
  "üåº",
  "üåê",
  "üåû",
  "üåù",
  "üåö",
  "üåë",
  "üåí",
  "üåì",
  "üåî",
  "üåï",
  "üåñ",
  "üåó",
  "üåò",
  "üåú",
  "üåõ",
  "üåô",
  "üåç",
  "üåé",
  "üåè",
  "üåã",
  "üåå",
  "üå†",
  "‚òÄ",
  "‚õÖ",
  "‚òÅ",
  "‚ö°",
  "‚òî",
  "‚ùÑ",
  "‚õÑ",
  "üåÄ",
  "üåÅ",
  "üåà",
  "üåä",
  "üíù",
  "üéé",
  "üéí",
  "üéì",
  "üéè",
  "üéÜ",
  "üéá",
  "üéÉ",
  "üëª",
  "üéÖ",
  "üéÑ",
  "üéÅ",
  "üéã",
  "üéâ",
  "üéà",
  "üéå",
  "üîÆ",
  "üé•",
  "üì∑",
  "üìπ",
  "üìº",
  "üíø",
  "üíΩ",
  "üíæ",
  "üíª",
  "üì±",
  "‚òé",
  "üìû",
  "üìü",
  "üì†",
  "üì°",
  "üì∫",
  "üìª",
  "üîä",
  "üîî",
  "üì¢",
  "üì£",
  "‚è≥",
  "‚è∞",
  "‚åö",
  "üîì",
  "üîë",
  "üîé",
  "üí°",
  "üî¶",
  "üîã",
  "üîç",
  "üö™",
  "üí∞",
  "üí¥",
  "üíµ",
  "üí∑",
  "üí∂",
  "üí≥",
  "üí∏",
  "üìß",
  "üì©",
  "üì®",
  "üì¨",
  "üìÆ",
  "üì¶",
  "üìù",
  "üìä",
  "üìà",
  "üìâ",
  "üìú",
  "üìã",
  "üìÖ",
  "üìÜ",
  "üìÇ",
  "‚úÇ",
  "üìå",
  "üìé",
  "‚úí",
  "‚úè",
  "üìè",
  "üìê",
  "üìì",
  "üìî",
  "üìí",
  "üìö",
  "üìñ",
  "üîñ",
  "üî¨",
  "üî≠",
  "üì∞",
  "üé®",
  "üé¨",
  "üé§",
  "üéß",
  "üéº",
  "üéµ",
  "üé∂",
  "üéπ",
  "üéª",
  "üé∫",
  "üé∑",
  "üé∏",
  "üëæ",
  "üéÆ",
  "üÉè",
  "üé¥",
  "üÄÑ",
  "üé≤",
  "üéØ",
  "üèà",
  "üèÄ",
  "‚öΩ",
  "‚öæ",
  "üéæ",
  "üé±",
  "üèâ",
  "üé≥",
  "‚õ≥",
  "üöµ",
  "üö¥",
  "üèÅ",
  "üèá",
  "üèÜ",
  "üéø",
  "üèÇ",
  "üèä",
  "üèÑ",
  "üé£",
  "‚òï",
  "üçµ",
  "üçº",
  "üç¥",
  "üçï",
  "üçî",
  "üçü",
  "üçó",
  "üçñ",
  "üçù",
  "üçõ",
  "üç§",
  "üç±",
  "üç£",
  "üç•",
  "üçô",
  "üçò",
  "üçö",
  "üçú",
  "üç≤",
  "üç¢",
  "üç°",
  "üç≥",
  "üçû",
  "üç©",
  "üçÆ",
  "üç¶",
  "üç®",
  "üçß",
  "üéÇ",
  "üç∞",
  "üç™",
  "üç´",
  "üç¨",
  "üç≠",
  "üçØ",
  "üçé",
  "üçè",
  "üçä",
  "üçã",
  "üçí",
  "üçá",
  "üçâ",
  "üçì",
  "üçà",
  "üçå",
  "üçê",
  "üçç",
  "üç†",
  "üçÖ",
  "üåΩ",
  "üè°",
  "üè´",
  "üè¢",
  "üè£",
  "üè•",
  "üè¶",
  "üè™",
  "üè®",
  "‚õ™",
  "üè¨",
  "üè§",
  "üåá",
  "üåÜ",
  "üèØ",
  "üè∞",
  "‚õ∫",
  "üóº",
  "üóæ",
  "üóª",
  "üåÑ",
  "üåÖ",
  "üåÉ",
  "üóΩ",
  "üåâ",
  "üé†",
  "üé°",
  "‚õ≤",
  "üé¢",
  "üö¢",
  "‚õµ",
  "üö§",
  "üö£",
  "‚öì",
  "üöÄ",
  "‚úà",
  "üí∫",
  "üöÅ",
  "üöÇ",
  "üöä",
  "üöâ",
  "üöû",
  "üöÜ",
  "üöÑ",
  "üöÖ",
  "üöà",
  "üöá",
  "üöù",
  "üöã",
  "üöå",
  "üöç",
  "üöô",
  "üöò",
  "üöï",
  "üöõ",
  "üöì",
  "üöí",
  "üöë",
  "üöê",
  "üö≤",
  "üö°",
  "üöü",
  "üö†",
  "üöú"
];
var spotsInBoard = [
  0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  16,
  17,
  18,
  19
];
var currentChoices = [];
var points = 0;
function generateRandEmoji() {
  return emojis[Math.floor(Math.random() * emojis.length)];
}

function boxClicked(boxId) {
  revealEmoji(boxId);
  document.getElementById(boxId).setAttribute("onclick", "wrongTileAlert()")
  currentChoices.push(boxId);
  
  if(currentChoices.length == 2){
    var choice1 = document.getElementById(currentChoices[0]).innerHTML;
    var choice2 = document.getElementById(currentChoices[1]).innerHTML;
    if(choice1==choice2){
      disableBox(currentChoices[0]);
      disableBox(currentChoices[1]);
      currentChoices = [];
      points++;
      checkEndGame()
    }
    else{
      setTimeout(resetBox, 555, currentChoices[0]);
      setTimeout(resetBox, 555, currentChoices[1]);
      setTimeout(function (){currentChoices = [];}, 556);
    }
  }
  
  //used to give a delay if a player tries to open up more than 2 boxes
  if (currentChoices.length > 2){
   setTimeout(boxClicked, 557, boxId) 
  }
}

function checkEndGame(){
  if(points == 10){
    setTimeout(alert, 300, "End Game! You win! üòÑ");
    setTimeout(resetBoard, 800);
  }
}

function populateBoard(randEmojiArray) {
  var randEmojiArrayLen = randEmojiArray.length;
  var randNum = 0;
  var shuffledArray = shuffleArray(spotsInBoard);
  for (var i = 0; i < randEmojiArrayLen; i++) {
      setAttribute("box" + shuffledArray.pop(), randEmojiArray[i]);
      setAttribute("box" + shuffledArray.pop(), randEmojiArray[i]);
  }
}

function generateRandEmojiArray() {
  var randEmojiArray = [];
  var randEmoji = "";
  for (var i = 0; i < 10; i++) {
    randEmoji = generateRandEmoji();
    randEmojiArray.push(randEmoji);
    emojis.splice(emojis.indexOf(randEmoji), 1);
  }
  return randEmojiArray;
}

function changeBoxColor(boxId) {
  var currentDoc = document.getElementById(boxId);
  currentDoc.classList.add("clicked");
  currentDoc.innerHTML = "üòÑ";
}

function disableBox(boxId) {
  var currentDoc = document.getElementById(boxId);
  currentDoc.classList.add("disabled");
  currentDoc.classList.remove("clicked");
  currentDoc.setAttribute("onclick", "wrongTileAlert()")
}


function setAttribute(boxId, emoji) {
  document.getElementById(boxId).setAttribute("emoji", emoji);
}

function shuffleArray(toBeShuffledArray){
  for(var i = toBeShuffledArray.length-1; i > 0; i--){
  var j = Math.floor(Math.random() * i)
  var temp = toBeShuffledArray[i]
  toBeShuffledArray[i] = toBeShuffledArray[j]
  toBeShuffledArray[j] = temp  
  }
  return toBeShuffledArray

}

function revealEmoji(boxId){
  var boxElement = document.getElementById(boxId); 
  var emoji = boxElement.getAttribute("emoji");
  boxElement.innerHTML = emoji;
  boxElement.classList.add("clicked");
  return emoji;
}

function resetBox(boxId){
  var boxElement = document.getElementById(boxId); 
  
  boxElement.classList.remove("clicked");
  boxElement.classList.remove("disabled");
  boxElement.innerHTML = "‚≠ê";
  boxElement.setAttribute("onclick", "boxClicked('"+boxId+"')");
  
}

function resetBoard(){
  for (var i = 0; i<20; i++){
    resetBox("box"+i)
  }
  populateBoard(generateRandEmojiArray())
}

function wrongTileAlert(){
  alert("That move is not valid üò° Please click a different tile.");
}
populateBoard(generateRandEmojiArray())